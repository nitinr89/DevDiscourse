@model Devdiscourse.Models.ViewModel.EmailFormModel
@inject Microsoft.AspNetCore.Http.IHttpContextAccessor HttpContextAccessor
@{
    ViewBag.Title = "Knowledge Partners | Devdiscourse";
    string domainUrl = "https://www.devdiscourse.com";
    string imageUrl = "/AdminFiles/Logo/devediscourse_banner.png";
    ViewBag.PageDescription = "Devdiscourse seek partnership with individuals and organizations for content contribution and content sharing as well as work with reputed institutions and firms as media partner.";
    ViewBag.PageImage = string.Concat(domainUrl, imageUrl);
    ViewBag.webEdition = @ViewBag.edition;
    ViewBag.PostUrl = "https://www.devdiscourse.com/partners/knowledge-partners";
    ViewBag.pageKeywords = "media partnership, knowlegde partnership, devdiscourse media partner";
    var isMobile = HttpContextAccessor.HttpContext.Request.Headers["User-Agent"].ToString().Contains("Mobi", StringComparison.OrdinalIgnoreCase);
}
<style>
    .renderBody {
        margin-top: 0;
    }

    .input-margin10 {
        margin-top: 15px;
    }

    .linktext, .linktext:hover {
        text-decoration: none;
        color: #222;
    }

    .box-shadow {
        box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.1), 0 2px 10px 0 rgba(0, 0, 0, 0.1);
    }

    .c-padding {
        padding: 60px 20px 40px 20px;
    }

    .no-b-r {
        border-radius: 0;
    }

    .partner-card-title {
        height: 50px;
        font-stretch: condensed;
    }

    .partner-card {
        height: 245px;
        background-size: cover;
        background-repeat: no-repeat;
    }

    .m-p-btn {
        color: #ff7b00;
        text-decoration: none;
        margin-left: 20px;
    }

    .arrow-img {
        width: 12px;
        margin-right: 5px;
        vertical-align: unset
    }

    .img-container {
        background-color: #e9e9e9;
    }

    .content-container {
        padding-top: 50px;
        padding-bottom: 50px;
    }

    .contentbox {
        padding-top: 50px;
        padding-bottom: 20px;
    }

        .contentbox p, .header-content p {
            font-size: 18px;
        }

        .contentbox b {
            font-weight: 500;
        }

    @@media(max-width:425px) {
        .pagelink {
            display: block;
            padding: 5px 0;
            text-align: left;
        }

        .contentbox p, .header-content p {
            font-size: 16px;
        }

        .content-container {
            padding-top: 30px;
            padding-bottom: 30px;
            text-align: left;
        }

        .contentbox {
            padding-top: 0;
        }

        .media-right {
            width: 26% !important;
        }

        .f-20 {
            font-size: 14px;
        }

        .m-p-btn {
            margin-left: 0;
        }

        .orgKBtn {
            margin-top: 10px;
        }

        .partner-card {
            height: 290px;
        }
    }

    @@media(max-width:320px) {
        .f-20 {
            font-size: 12px;
        }

        .arrow-img {
            width: 10px;
            margin-right: 2px;
            vertical-align: unset
        }
    }
</style>
<div id="knowledgePartner">
    <div class="img-container">
        @* @if (!Request.Browser.IsMobileDevice) *@
        @if (!isMobile)
        {
   @*          <img data-src="/images/mediapartners/kp.jpg" src="~/Content/transparent.png" class="img-responsive center-block lazy" alt="Knowledge Partnership" /> *@
            <img src="/images/mediapartners/kp.jpg" class="img-responsive center-block lazy" alt="Knowledge Partnership" />
        }
        else
        {
@*             <img data-src="/images/mediapartners/mobilekp.jpg" src="~/Content/transparent.png" class="img-responsive center-block lazy" alt="Knowledge Partnership" /> *@
            <img src="/images/mediapartners/mobilekp.jpg" class="img-responsive center-block lazy" alt="Knowledge Partnership" />
        }
    </div>
    <div class="container content-container">
        <div class="row">
            <div class="col-xs-12 col-md-8">
                <div class="contentbox">
                    <p>Devdiscourse is being run with the objective to drive a balanced and constructive narrative on developmental policies, programs, projects, events and trends locally, regionally and globally, we seek partnership with institutions and individuals that are involved in core policy research or other developmental activities to produce cutting edge content on developmental issues that matter. The partnership is aimed at supporting the dissemination of insightful, crisp and punchy articles, photo essays and videos that have the power to make an impact on developmental space locally, regionally and globally.</p>
                    <p>We request you to partner with us (individually or as an institution) and contribute in this endeavour to catalyse the developmental thinking and actions to achieve agenda 2030 set as sustainable development goals by global community.</p>
                    <p>The terms and conditions of collaborating with us as knowledge partner are attached herewith, please <a href="~/AdminFiles/Knowledge_partnership_tnc1.pdf" download>download</a>. We look forward to have you with us!</p>
                    <p>For being our knowledge partner, please write us at <a href="mailto:partners@devdiscourse.com">partners@devdiscourse.com</a></p>
                    <p><b>To know who are with us as knowledge partners, please click here.</b></p>
                    <a href="@Url.Action("KnowledgePartners", "MediaPartnership", new { type = "Individuals" })" class="f-14 btn btn-primary">INDIVIDUAL KNOWLEDGE PARTNERS</a>
                    <a href="@Url.Action("KnowledgePartners", "MediaPartnership", new { type = "Organisation" })" class="f-14 btn btn-primary orgKBtn">ORGANISATION KNOWLEDGE PARTNERS</a>
                </div>
            </div>
            <div class="col-md-offset-0 col-sm-offset-2 col-xs-offset-0 col-xs-12 col-sm-8 col-md-4">
                <div id="resultMessage"></div>
                <div class="box-shadow c-padding">
                    <div class="form-horizontal">
                        <div class="input-margin10">
                            <label for="FromNameForK">Name</label><span class="text-danger f-18"> *</span>
                            <input class="form-control no-b-r input-lg" type="text" id="FromNameForK" placeholder="Enter Your Name Here" />
                            <span class="text-danger formVal" id="vFromNameForK"></span>
                        </div>
                        <div class="input-margin10">
                            <label for="FromEmailFormK">Email</label><span class="text-danger f-18"> *</span>
                            <input class="form-control no-b-r input-lg" type="email" id="FromEmailFormK" placeholder="Enter Your Email Here" />
                            <span class="text-danger formVal" id="vFromEmailFormK"></span>
                        </div>
                        <div class="input-margin10">
                            <label for="MessageForK"> Message</label><span class="text-danger f-18"> *</span>
                            <textarea class="form-control no-b-r input-lg" type="text" id="MessageForK" placeholder="Enter Your Message Here"></textarea>
                            <span class="text-danger formVal" id="vMessageForK"></span>
                        </div>
                        <div class="input-margin10">
                            <button type="button" id="SubmitBtn" class="btn btn-lg btn-block no-b-r btn-primary"><span class="fa fa-paper-plane"></span> Send</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
@section scripts{
    <script>
        $(document).ready(function () {
            var _contactName, _contactEmail, _contactMessage = "";
            $('.lazy').lazy();
            $(document).find('#regDropDown').change(function () {
                var date = new Date();
                date.setTime(date.getTime() + (24 * 60 * 60 * 1000));
                document.cookie = "Edition=" + $(this).val() + "; expires=" + date.toGMTString();
                window.location.href = $(this).find('option:selected').attr('data-to');
            });

            $("#SubmitBtn").click(function () {
                $(".formVal").html('');
                _contactName = $('#FromNameForK').val();
                _contactEmail = $('#FromEmailFormK').val();
                _contactMessage = $('#MessageForK').val();
                if (_contactName.trim() == "") {
                    $("#vFromNameForK").html("Name is required.")
                }
                else if (!(/^\w+([\.-]?\w+)*@@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(_contactEmail))) {
                    $("#vFromEmailFormK").html("Email is not valid.")
                }
                else if (_contactMessage == "") {
                    $("#vMessageForK").html("Message is required.")
                }
                else {
                    $('#SubmitBtn').prop('disabled', true);
                    submitContact();
                }
            });
            function submitContact() {
                var contactData = {
                    FromName: _contactName,
                    FromEmail: _contactEmail,
                    Message: _contactMessage
                };
                $.ajax({
                    url: '/MediaPartnership/KnowledgeContact',
                    type: 'Post',
                    data: JSON.stringify(contactData),
                    contentType: "application/json",
                    dataType: 'Json',
                    success: function (data) {
                        if (data == "Success") {
                            $("#resultMessage").html('<div class="alert alert-success"><h4> Message sent successfully.</h4></div>');
                        } else {
                            $("#resultMessage").html('<div class="alert alert-danger"><h4> Something went wrong.</h4></div>');
                        }
                        $('#SubmitBtn').prop('disabled', false);
                        $('#FromNameForK,#FromEmailFormK,#MessageForK').val("");
                        _contactName, _contactEmail, _contactMessage = "";
                    },
                    error: function () {
                    }
                });
            }
            $('#myTabs a').click(function (e) {
                e.preventDefault()
                $(this).tab('show')
            })
        });
    </script>
}

