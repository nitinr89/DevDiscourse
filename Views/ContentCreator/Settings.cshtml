@model Devdiscourse.Models.ContributorModels.Payment
@{
    ViewBag.Title = "Payment Settings - Devdiscourse";
    string domainUrl = "https://www.devdiscourse.com";
    string imageUrl = "/AdminFiles/Logo/devediscourse_banner.png";
    ViewBag.PageDescription = "Devdiscourse is World's leading website for International Development News. Get Breaking News on Politics, Business, Technology, Science, Health, Education and Entertainment.";
    ViewBag.webEdition = ViewBag.edition;
    ViewBag.PostUrl = "https://www.devdiscourse.com/contribute";
    ViewBag.pageKeywords = "Development news, Current news, live news, international news in english, latest top news, India news, Africa news, daily news, world news, latest news today, online news, sports news, politics news, health news, science news, technology news, energy news, urban development news, transport news, economy news, finance news, sports news, art and culture news, education news, sports news, Agro-Forestry, social gender, Public Administration, Water and Sanitation";
    var newsImage = imageUrl.IndexOf("devdiscourse.blob.core.windows.net") != -1 ? imageUrl : string.Concat(domainUrl, imageUrl);
    ViewBag.PageImage = newsImage;
}
<style>
    .setting-card {
        padding: 15px;
        border-radius: 10px;
        background-color: #fff;
        min-height: 120px;
    }
    .form-horizontal .form-group{
        margin:0;
    }
    .form-control{
        border-radius:unset;
    }
    .form-horizontal .control-label {
        padding-top: 15px;
        padding-bottom: 10px;
    }
    .btncss {
        padding: 6px 40px;
    }
    hr {
        margin-top: 10px;
        margin-bottom: 10px;
        border: 0;
        border-top: 1px solid #0073c4;
    }
    @@media(max-width:425px){
        .btncss {
            padding: 6px 20px;
        }
    }
</style>
<link href="~/Content/contribute.css" rel="stylesheet" />
<div class="container p-b-20">
    <div class="left-panel">
        <div class="icon-cont bg-primary">
            <a href="@Url.Action("Create", "ContentCreator")">
                <img src="~/images/contibutor/plus_white.svg" class="icon" />
                <div class="fg-white text-center">Create</div>
            </a>
        </div>
        <div class="icon-cont bg-white m-t-10">
            <a href="@Url.Action("Index", "ContentCreator")">
                <img src="~/images/contibutor/dashboard_line.svg" class="icon" />
                <div class="text-center">Dashboard</div>
            </a>
        </div>
        <div class="icon-cont bg-white">
            <a href="@Url.Action("Drafted", "ContentCreator")">
                <img src="~/images/contibutor/draft_line.svg" class="icon" />
                <div class="text-center">Draft</div>
            </a>
        </div>
        <div class="icon-cont bg-white">
            <a href="@Url.Action("Pending", "ContentCreator")">
                <img src="~/images/contibutor/pending_line.svg" class="icon" />
                <div class="text-center">Pending Review</div>
            </a>
        </div>
        <div class="icon-cont bg-white">
            <a href="@Url.Action("Published", "ContentCreator")">
                <img src="~/images/contibutor/publish_line.svg" class="icon" />
                <div class="text-center">Published</div>
            </a>
        </div>
        <div class="icon-cont bg-white">
            <a href="@Url.Action("Rejected", "ContentCreator")">
                <img src="~/images/contibutor/cannot_line.svg" class="icon" />
                <div class="text-center">Cannot Publish</div>
            </a>
        </div>
        <div class="icon-cont bg-white m-t-10" id="keyInst" style="cursor:pointer">
            <img src="~/images/contibutor/key_instr_line.svg" id="instruction" class="icon" />
            <div class="text-center">
                Key Instructions
            </div>
        </div>
        <div class="icon-cont bg-white m-t-10">
            <a href="@Url.Action("Earnings", "ContentCreator")">
                <img src="~/images/contibutor/earnings.svg" class="icon" />
                <div class="text-center">Earnings</div>
            </a>
        </div>
        <div class="icon-cont bg-white">
            <a href="@Url.Action("Settings", "ContentCreator")">
                <img src="~/images/contibutor/setting_fill.svg" class="icon" />
                <div class="text-center">Payment Settings</div>
            </a>
        </div>
        <div class="icon-cont bg-white">
            <a href="@Url.Action("History", "ContentCreator")">
                <img src="~/images/contibutor/history.svg" class="icon" />
                <div class="text-center">Payment History</div>
            </a>
        </div>
    </div>
    <div class="main">
        <div class="setting-card">
            <h3 style="margin-top:0px; margin-bottom:20px;">Payment Setting</h3>
            <p>Great to have you onboard Devdiscourse&apos;s Revenue Share platform. Please fill out your required details so we could transfer your earnings to you as and when they are due.</p>
            <p>You are located in</p>
            <div class="row">
                <div class="col-xs-12 col-sm-3">
                    <select class="form-control" id="coutryList"></select>
                </div>
            </div>
        </div>
        <div id="forIndians" style="display:none;">
            @using (Html.BeginForm())
            {
                @Html.AntiForgeryToken()
                <div class="form-horizontal">
                    @Html.ValidationSummary(true, "", new { @class = "text-danger" })
                    <div class="setting-card m-t-20">
                        <input type="text" class="form-control hidden" id="UserCountry" name="UserCountry" />
                        <h3 style="margin-top:0px; margin-bottom:20px;">Billing Address</h3>
                        <div class="row">
                            <div class="col-xs-12 col-sm-4">
                                @Html.LabelFor(model => model.Name, htmlAttributes: new { @class = "control-label" })
                                <div class="">
                                    @Html.EditorFor(model => model.Name, new { htmlAttributes = new { @class = "form-control inputText" } })
                                    @Html.ValidationMessageFor(model => model.Name, "", new { @class = "text-danger" })
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-12 col-sm-8">
                                @Html.LabelFor(model => model.Address, htmlAttributes: new { @class = "control-label" })
                                <div class="">
                                    @Html.EditorFor(model => model.Address, new { htmlAttributes = new { @class = "form-control inputText" } })
                                    @Html.ValidationMessageFor(model => model.Address, "", new { @class = "text-danger" })
                                </div>
                            </div>
                        </div>
                        <div class="row m-t-10">
                            <div class="col-xs-12 col-sm-4">
                                @Html.EditorFor(model => model.City, new { htmlAttributes = new { @class = "form-control inputText", @placeholder = "City" } })
                                @Html.ValidationMessageFor(model => model.City, "", new { @class = "text-danger" })
                            </div>
                            <div class="col-xs-12 col-sm-4">
                                @Html.EditorFor(model => model.State, new { htmlAttributes = new { @class = "form-control inputText", @placeholder = "State" } })
                                @Html.ValidationMessageFor(model => model.State, "", new { @class = "text-danger" })
                            </div>
                        </div>
                        <div class="row m-t-10">
                            <div class="col-xs-12 col-sm-4">
                                @Html.EditorFor(model => model.Country, new { htmlAttributes = new { @class = "form-control inputText", @placeholder = "Country" } })
                                @Html.ValidationMessageFor(model => model.Country, "", new { @class = "text-danger" })
                            </div>
                            <div class="col-xs-12 col-sm-4">
                                @Html.EditorFor(model => model.Pincode, new { htmlAttributes = new { @class = "form-control inputText", @placeholder = "Pincode" } })
                                @Html.ValidationMessageFor(model => model.Pincode, "", new { @class = "text-danger" })
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-12 col-sm-8">
                                @Html.LabelFor(model => model.Contact, htmlAttributes: new { @class = "control-label" })
                                <div class="">
                                    @Html.EditorFor(model => model.Contact, new { htmlAttributes = new { @class = "form-control" } })
                                    @Html.ValidationMessageFor(model => model.Contact, "", new { @class = "text-danger" })
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-12 col-sm-8">
                                @Html.LabelFor(model => model.EmailId, htmlAttributes: new { @class = "control-label" })
                                <div class="">
                                    @Html.EditorFor(model => model.EmailId, new { htmlAttributes = new { @class = "form-control" } })
                                    @Html.ValidationMessageFor(model => model.EmailId, "", new { @class = "text-danger" })
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="setting-card m-t-20">
                        <h3 style="margin-top:0px; margin-bottom:20px;">Bank Details</h3>
                        <div class="row">
                            <div class="col-xs-12 col-sm-4">
                                @Html.LabelFor(model => model.AccountHolderName, htmlAttributes: new { @class = "control-label" })
                                <div class="">
                                    @Html.EditorFor(model => model.AccountHolderName, new { htmlAttributes = new { @class = "form-control" } })
                                    @Html.ValidationMessageFor(model => model.AccountHolderName, "", new { @class = "text-danger" })
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-12 col-sm-4">
                                @Html.LabelFor(model => model.BankName, htmlAttributes: new { @class = "control-label" })
                                <div class="">
                                    @Html.EditorFor(model => model.BankName, new { htmlAttributes = new { @class = "form-control" } })
                                    @Html.ValidationMessageFor(model => model.BankName, "", new { @class = "text-danger" })
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-12 col-sm-8">
                                @Html.LabelFor(model => model.BankAddress, htmlAttributes: new { @class = "control-label" })
                                <div class="">
                                    @Html.EditorFor(model => model.BankAddress, new { htmlAttributes = new { @class = "form-control" } })
                                    @Html.ValidationMessageFor(model => model.BankAddress, "", new { @class = "text-danger" })
                                </div>
                            </div>
                        </div>
                        <div class="row m-t-10">
                            <div class="col-xs-12 col-sm-4">
                                @Html.EditorFor(model => model.BankCity, new { htmlAttributes = new { @class = "form-control", @placeholder = "City" } })
                                @Html.ValidationMessageFor(model => model.BankCity, "", new { @class = "text-danger" })
                            </div>
                            <div class="col-xs-12 col-sm-4">
                                @Html.EditorFor(model => model.BankState, new { htmlAttributes = new { @class = "form-control", @placeholder = "State" } })
                                @Html.ValidationMessageFor(model => model.BankState, "", new { @class = "text-danger" })
                            </div>
                        </div>
                        <div class="row m-t-10">
                            <div class="col-xs-12 col-sm-4">
                                @Html.EditorFor(model => model.BankCountry, new { htmlAttributes = new { @class = "form-control", @placeholder = "Country" } })
                                @Html.ValidationMessageFor(model => model.BankCountry, "", new { @class = "text-danger" })
                            </div>
                            <div class="col-xs-12 col-sm-4">
                                @Html.EditorFor(model => model.BankPincode, new { htmlAttributes = new { @class = "form-control", @placeholder = "Pincode" } })
                                @Html.ValidationMessageFor(model => model.BankPincode, "", new { @class = "text-danger" })
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-12 col-sm-8">
                                @Html.LabelFor(model => model.AccountNo, htmlAttributes: new { @class = "control-label" })
                                <div class="">
                                    @Html.EditorFor(model => model.AccountNo, new { htmlAttributes = new { @class = "form-control" } })
                                    @Html.ValidationMessageFor(model => model.AccountNo, "", new { @class = "text-danger" })
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-12 col-sm-4">
                                @Html.LabelFor(model => model.AccountType, htmlAttributes: new { @class = "control-label" })
                                <div class="">
                                    <select class="form-control" id="AccountType" name="AccountType">
                                        <option value="Savings">Savings</option>
                                        <option value="Current">Current</option>
                                    </select>
                                    @Html.ValidationMessageFor(model => model.AccountType, "", new { @class = "text-danger" })
                                </div>
                            </div>
                            <div class="col-xs-12 col-sm-4">
                                @Html.LabelFor(model => model.IFSCCode, htmlAttributes: new { @class = "control-label" })
                                <div class="">
                                    @Html.EditorFor(model => model.IFSCCode, new { htmlAttributes = new { @class = "form-control text-uppercase" } })
                                    @Html.ValidationMessageFor(model => model.IFSCCode, "", new { @class = "text-danger" })
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="setting-card m-t-20">
                        <h3 style="margin-top:0px; margin-bottom:20px;">PAN Card Details</h3>
                        <div class="form-group">
                            <div><label class="control-label">Do you have pan card</label></div>
                            <div style="display:inline-block">
                                <span><input type="radio" id="yes" name="radiobtn" style="margin-right:10px;" /></span><label class="control-label">Yes</label>
                            </div>
                            <div style="display:inline-block;">
                                <span><input type="radio" id="no" name="radiobtn" style="margin-left:50px;margin-right:10px;" /></span><label class="control-label">No</label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-12 col-sm-4 p-b-10" id="yespan" style="display:none;">
                                @Html.LabelFor(model => model.PanCardNo, htmlAttributes: new { @class = "control-label" })
                                <div class="">
                                    @Html.EditorFor(model => model.PanCardNo, new { htmlAttributes = new { @class = "form-control text-uppercase" } })
                                    @Html.ValidationMessageFor(model => model.PanCardNo, "", new { @class = "text-danger" })
                                </div>
                            </div>
                        </div>
                        <div class="form-group p-b-10" id="nopan" style="display:none;">
                            <img src="~/images/contibutor/warning.svg" style="width:20px;" />
                            <span style="margin-left:10px;color:#ff0000">20% TDS will be deducted if earnings are more than Rs. 30,000.00 annually since PAN card details are not available.</span>
                        </div>
                    </div>
                    <div class="form-group p-t-20 text-right">
                        <a href="@Url.Action("Settings", "ContentCreator")" class="btn btn-default btncss">ClearAll</a>
                        <input type="submit" value="Save" name="draftBtn" class="btn btn-blue btncss" />
                    </div>
                </div>
            }
        </div>
        <div id="forOthers" style="display:none;">
            <div class="setting-card m-t-20">
                <h3 style="margin-top:0px; margin-bottom:20px;">Payment Mode</h3>
                <div class="row">
                    <div class="col-xs-12 col-sm-3 text-center" id="paypal" style="cursor:pointer">
                        <img src="~/images/contibutor/paypal.png" class="img-responsive center-block" />
                        <hr />
                        <span style="color:#0073c4">Monthly payouts above USD 50.00 Capped at USD 500 per month</span>
                    </div>
                    @*<div class="col-xs-12 col-sm-3 text-center" id="paytm" style="cursor:pointer">
                        <img src="~/images/contibutor/paypal.png" class="img-responsive center-block" />
                        <hr />
                        <span style="color:#0073c4">Monthly payouts above USD 50.00 Capped at USD 500 per month</span>
                    </div>*@
                </div>
            </div>
            <div class="row m-t-20" id="paymentInfo" style="display:none;">
                <div class="col-xs-12 col-sm-4">
                    <div class="setting-card">
                        <h3 style="margin-top:0px; margin-bottom:20px;">Payment Details</h3>
                        <div class="">
                            <label class="control-label">Name</label>
                            <input type="text" id="uName" class="form-control paytext" />
                            <span class="text-danger payInfo" id="uNameValid"></span>
                        </div>
                        <div class="m-t-20">
                            <label class="control-label">Payment Method</label>
                            <input type="text" id="paymethod" class="form-control" disabled />
                        </div>
                        <div class="m-t-20">
                            <label class="control-label">Registered Email</label>
                            <input type="email" id="registemail" class="form-control paytext" />
                            <span class="text-danger payInfo" id="uEmailValid"></span>
                        </div>
                        <div class="m-t-20">
                            <label class="control-label">Tax Info</label>
                            <input type="email" id="taxinfo" class="form-control paytext" />
                        </div>
                        <div class="m-t-20 text-right">
                            <button class="btn btn-default btncss" id="cancelBtn">Cancel</button>
                            <button class="btn btn-blue btncss" id="saveBtn">Save</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="instModel" tabindex="-1" role="dialog" style="z-index:700000">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="crossbtn"><img src="/images/contibutor/cross.svg" id="cancelInst" /></div>
            <div class="modal-body">
                <div class="media">
                    <div class="media-left">
                        <div style="width:110px;height:110px">
                            <img src="/images/contibutor/key-instruction.svg" style="height:100px" />
                        </div>
                    </div>
                    <div class="media-body">
                        <div class="inst-title">KEY INSTRUCTIONS</div>
                    </div>
                </div>
                <div class="p-t-20">
                    <p style="font-size:16px;font-weight:500">Please note that Devdiscourse editorial team reserves the right to publish or reject any post. The following are automatic red flags, and will result in the post being rejected without any explanation:</p>
                    <ol style="font-size: 16px; padding: 15px;">
                        <li>The post is plagiarized from anywhere (this will also lead to a permanent ban).</li>
                        <li>The post is a rehash of a piece from any other publication.</li>
                        <li>The article is shorter than 300 words.</li>
                        <li>The article is in a language other than English.</li>
                    </ol>
                </div>
            </div>
        </div>
    </div>
</div>
@section scripts{
    <script>
        $(document).ready(function () {
            var _selectedCountry = '@(ViewBag.UserCountry)';
            // Active Menu Icon
            $(document).find('.linkBtn').removeClass('active');
            $(document).find('#writeLink').addClass('active');
            // Instruction Dialog Code
            $('#keyInst').click(function () {
                $('#instModel').modal('show');
                $("#instruction").attr("src", "/images/contibutor/key_instr_fill.svg");
            });
            $('#cancelInst').click(function () {
                $('#instModel').modal('hide');
                $("#instruction").attr("src", "/images/contibutor/key_instr_line.svg");
            });
            getCountries();
            function getCountries() {
                $.ajax({
                    url: '/Home/GetCountry',
                    type: 'Post',
                    data: { region: "Global Edition" },
                    dataType: 'Json',
                    success: function (data) {     
                        $('#coutryList').append('<option value="">Select Country</option');
                        $.each(data, function (i, item) {
                            $('#coutryList').append('<option value="' + item.title + '">' + item.title + '</option>');
                        });
                        if (_selectedCountry != "") {
                            $('#coutryList').val(_selectedCountry);
                            $('#forIndians').show();
                        }
                    },
                    error: function () {
                    },
                });
            }
            $('#yes').click(function () {
                $('#nopan').hide();
                $('#yespan').show();
            });
            $('#no').click(function () {
                $('#yespan').hide();
                $('#nopan').show();
                $('#PanCardNo').val("");
            });
            $('#coutryList').change(function () {
                var _country = $(this).val();
                $('#UserCountry').val(_country);
                if (_country == "") {
                    $('#forOthers').hide();
                    $('#forIndians').hide();
                }
                else if (_country == "India") {
                    $('#forOthers').hide();
                    $('#forIndians').show();
                }
                else {
                    $('#forIndians').hide();
                    $('#forOthers').show();
                }
            });
            $('#paypal').click(function () {
                $('.paytext').val("");
                $('#paymentInfo').show();
                $('#paymethod').val("Paypal");
            }); 
            $('#paytm').click(function () {
                $('.paytext').val("");
                $('#paymentInfo').show();
                $('#paymethod').val("Paytm");
            });
            $('#cancelBtn').click(function () {
                $('#paymentInfo').hide();
                $('.payInfo').html("");
            });
            $('#saveBtn').click(function () {
                var _name = $('#uName').val();
                var _payType = $('#paymethod').val();
                var _email = $('#registemail').val();
                var _taxinfo = $('#taxinfo').val();
                if (_name == "") {
                    $('#uNameValid').html("Name field is required");
                }
                else if (!(/^\w+([\.-]?\w+)*@@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(_email))) {
                    $('#uNameValid').html("");
                    $('#uEmailValid').html("Please enter valid email");
                }
                else {
                    $('.payInfo').html("");
                    $('.paytext').val("");
                }
            });
        });
    </script>
}