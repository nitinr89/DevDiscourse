function imageLoad(n){var i=$("#art-"+n+" .article-image-container").height(),t=0,r;$("#art-"+n+" p").each(function(){t=t+$(this).outerHeight(!0)});t>i+180+initHeight?$("#art-"+n).height(i+180+initHeight):($("#art-"+n).css({height:"auto"}),r=$("#art-"+n+"+.full-read-overlay button").attr("data-tag"),$("#art-"+n+"+.full-read-overlay").remove(),fetchReadAlso(n,r.split(".").join("").split("/").join(" ").split(",").reverse().splice(3,3).join(",")))}function fetchReadAlso(n,t){t.trim()!=""&&$.ajax({url:"/api/GetTagNews/"+n+"/"+t,type:"GET",success:function(t){var r="",i;t.length>0&&(i="",$.each(t,function(n,t){i+='<li class="also-title"><h3 class="f-16 no-margin font-normal"> <a href="/article/'+(t.Label==null?"agency-wire":t.Label+"/"+convertToSlug(t.NewId,t.Title))+'" class="text-decoration"> '+t.Title+"<\/a><\/h3><\/li>"}),r='<div class="also-container"><div><h2 class="ar-title">ALSO READ<\/h2><ul class="ar-ul">'+i+"<\/ul><\/div><\/div>",$(r).insertBefore("#tag_"+n))},error:function(n){console.log(n.responseText)}})}function convertToSlug(n,t){var r,u,i,f;for(t=t.replace(/^\s+|\s+$/g,""),t=t.toLowerCase(),r="àáäâèéëêìíïîòóöôùúüûñç·/_,:;",u="aaaaeeeeiiiioooouuuunc------",i=0,f=r.length;i<f;i++)t=t.replace(new RegExp(r.charAt(i),"g"),u.charAt(i));return t=t.replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-"),n+"-"+t}(function(){function o(){skip>-2&&!inCallback&&(inCallback=!0,skip++,$("#loading").show(),r=_sector!="0"?"/api/GetPreviousSectorNews/"+newsId+"/"+_sector.split(",")[0]+"/"+_region+"/"+skip:"/api/GetPreviousNews/"+newsId+"/"+label+"/"+_region+"/"+skip,$.ajax({url:r,type:"Get",dataType:"Json",success:function(n){function e(n){return n<10?"0"+n:n}var s,h,b,k,t,i,r,y,p,nt,a;if(n=="done"){$("#loading").hide();return}var tt=n.Subtitle==null?"":'<h2 class="subtitle">'+n.Subtitle+"<\/h2>",o=n.label==null?"agency-wire":n.label,v=n.Slug==null?"":n.Slug,w=encodeURI(n.Title);u=_isAdmin==!0?n.ImageCopyright==null?'<p class="meta" style="margin-bottom:5px;"><a href="/DevNews/Edit?id='+n.Id+'" target="_blank" rel="nofollow" class="btn btn-primary btn-sm"><span class="fa fa-pencil"><\/span> Edit<\/a><\/p>':'<p class="meta" style="margin-bottom:5px;">'+n.ImageCopyright+' <a href="/DevNews/Edit?id='+n.Id+'" target="_blank" rel="nofollow" class="btn btn-primary btn-sm"><span class="fa fa-pencil"><\/span> Edit<\/a><\/p>':n.ImageCopyright==null?"":'<p class="meta">'+n.ImageCopyright+"<\/p>";s="";h=bannerArr[skip];_ismobile==!0?(h=mobileBannerArr[skip],f='<a class="btn social-btn" href="whatsapp://send?text=https://www.devdiscourse.com/article/'+o+"/"+n.Slug+'" rel="nofollow" data-action="share/whatsapp/share" aria-label="Share on whatsapp"><span class="fa fa-whatsapp"><\/span><\/a>'):(h=bannerArr[skip],f="");b=urlLinkArr[skip];k=n.ImageUrl.indexOf("devdiscourse.blob.core.windows.net")!=-1?"https://www.devdiscourse.com/remote.axd?"+n.ImageUrl:"https://www.devdiscourse.com"+n.ImageUrl;n.ImageUrl!=null&&n.ImageUrl!="/images/defaultImage.jpg"&&n.ImageUrl!="/images/newstheme.jpg"&&n.ImageUrl!="/images/sector/all_sectors.jpg"&&(s='<div class="article-image-container"><img src="'+k+'?width=920" class="img-responsive m-t-10 m-b-10 center-block" onload="imageLoad('+n.NewsId+')" title="'+n.Title+'" alt="'+n.Title+'">'+u+"<\/div>");t="";switch(n.Source){case"PTI":t='<a href="/pti-stories/">'+n.Source+"<\/a>";break;case"Reuters":t='<a href="/reuters-stories/">'+n.Source+"<\/a>";break;case"IANS":t='<a href="/ians-stories/">'+n.Source+"<\/a>";break;case"Devdiscourse News Desk":t='<a href="/devdiscourse-stories/">'+n.Source+"<\/a>";break;case"ANI":t='<a href="/ani-stories/">'+n.Source+"<\/a>";break;case"PR Newswire":t='<a href="/pr-newswire/">'+n.Source+"<\/a>";break;default:t='<a href="/news-source/'+n.Source+'">'+n.Source+"<\/a>"}i=new Date(n.ModifiedOn);i.setMinutes(i.getMinutes()-(new Date).getTimezoneOffset());r=new Date(n.PublishedOn);r.setMinutes(r.getMinutes()-(new Date).getTimezoneOffset());var c=n.Tags!=null?n.Tags.split(",").splice(0,30):[],l=n.Country!=null?n.Country.split(","):[],it=l.length>0?'<span class="meta-divider"><\/span><span>'+l[0]+"<\/span>":"",d="",g="";c.length>0&&(y="",c=$.grep(c,function(n){return n.length>5}),$.each(c,function(n,t){y+='<h2 class="inline-tag"><a href="/news?tag='+t.trim()+'" class="badge tag">'+t.trim()+"<\/a><\/h2>"}),d='<div><span class="fg-black f-18">READ MORE ON :<\/span>'+y+"<\/div>");l.length>0&&(p="",$.each(l,function(n,t){p+='<span class="badge tag">'+t.trim()+"<\/span>"}),g='<div class="clearfix"><span class="fg-black f-18">COUNTRY :<\/span><span>'+p+"<\/span><\/div>");nt='<a href="'+b+'" target="_blank" rel="noopener"><img src="'+h+'" class="img-responsive center-block m-t-10 m-b-20" alt="add-banner" /><\/a><div class="article-divider clearfix" data-articleurl="'+n.Slug+'" data-articletitle="'+n.Title+'">Next Article<\/div><article><h2 class="title">'+n.Title+"<\/h2>"+tt+'<hr class="hrcss" /><div class="news-meta clearfix">'+t+" "+(n.SourceUrl==null?"":'<span class="meta-divider"><\/span><span class="text-capitalize">'+n.SourceUrl.toLowerCase()+"<\/span>")+it+'<p class="news-date" style="margin:0;"><span class="meta-divider date-divider"><\/span><span>Updated: '+e(i.getDate())+"-"+e(i.getMonth()+1)+"-"+i.getFullYear()+" "+e(i.getHours())+":"+e(i.getMinutes())+' IST<\/span><span class="meta-divider"><\/span><span>Created: '+e(r.getDate())+"-"+e(r.getMonth()+1)+"-"+r.getFullYear()+" "+e(r.getHours())+":"+e(r.getMinutes())+' IST<\/span><\/p><div class="share-links"><a onclick="window.open(&#39;https://www.facebook.com/sharer/sharer.php?u=https://www.devdiscourse.com/article/'+o+"/"+v+'&#39;, &#39;facebook_share&#39;, &#39;height=320, width=640, toolbar=no, menubar=no, scrollbars=no, resizable=no, location=no, directories=no, status=no&#39;);" href="javascript:void(0);" title="Share on Facebook" class="btn social-btn"><span class="fa fa-facebook"><\/span><\/a> <a onclick="window.open(&#39;http://twitter.com/share?url=https://www.devdiscourse.com/article/'+o+"/"+v+"&amp;text="+w+'&#39;, &#39;facebook_share&#39;, &#39;height=320, width=640, toolbar=no, menubar=no, scrollbars=no, resizable=no, location=no, directories=no, status=no&#39;);" href="javascript:void(0);" title="share on Twitter" class="btn social-btn"><span class="fa fa-twitter"><\/span><\/a> <a onclick="window.open(&#39;https://www.linkedin.com/shareArticle?mini=true&amp;url=https://www.devdiscourse.com/article/'+o+"/"+v+"&amp;title="+w+'&amp;summary=&amp;source=devdiscourse.com&#39;, &#39;linkedIn_share&#39;, &#39;height=620, width=400, toolbar=no, menubar=no, scrollbars=no, resizable=no, location=no, directories=no, status=no&#39;);" href="javascript:void(0);" target="_blank" title="Share on LinkedIn" class="btn social-btn"><span class="fa fa-linkedin"><\/span><\/a> '+f+'<\/div><\/div><div class="full-read newsDescArticle" id="art-'+n.NewsId+'">'+s+n.Description+d+g+'<div class="clearfix" id="tag_'+n.NewsId+'"><\/div><button onclick="reset(\'https://www.devdiscourse.com/Article/'+n.Slug+"',"+n.NewsId+');" class="btn btn-primary m-b-20 m-t-20 btn-block"><span class="fa fa-comments-o"><\/span> POST / READ COMMENTS<\/button> <div id="art_'+n.NewsId+'" class="commentbox"> <div id="disqus_thread"><\/div> <\/div><\/div><div class="full-read-overlay"><button class="btn btn-primary center-block full-read-btn" data-id="art-'+n.NewsId+'" data-tag="'+n.Tags+'">READ ARTICLE<\/button><\/div><\/article>';$("#NewsNews").append(nt);ga("send","pageview",location.pathname);inCallback=!1;$("#loading").hide();s==""&&(a=0,$("#art-"+n.NewsId+" p").each(function(){a=a+$(this).outerHeight(!0)}),a>350?$("#art-"+n.NewsId).height(300):($("#art-"+n.NewsId).css({height:"auto"}),$("#art-"+n.NewsId+"+.full-read-overlay").remove(),fetchReadAlso(n.NewsId,n.Tags.split(".").join("").split("/").join(" ").split(",").reverse().splice(3,3).join(","))));console.log(twttr);twttr!=null&&twttr.widgets.load();window.instgrm!=null&&window.instgrm.Embeds.process()},error:function(n){console.log(n.responseText)}}))}function t(n,t,i){$.ajax({url:"/api/Search/GetEditionNews/"+_region+"/"+t,type:"GET",success:function(n){var t="",r,u;n.news.length>0&&(r="",$.each(n.news,function(n,t){var e=convertToSlug(t.NewId,t.Title),o=t.Label!=null?t.Label:"agency-wire",i="",u,f;t.Type=="Event"?i='<span class="pull-right infocus-badge">'+t.Type+"<\/span>":t.Type=="Blog"&&(i=t.SubType!=""&&t.SubType!=null?'<span class="pull-right infocus-badge">'+t.SubType+"<\/span>":'<span class="pull-right infocus-badge">Blog<\/span>');u="";t.ImageUrl!=null&&t.ImageUrl!="/images/defaultImage.jpg"&&t.ImageUrl!="/images/newstheme.jpg"&&t.ImageUrl!="/images/sector/all_sectors.jpg"&&(f=t.ImageUrl.indexOf("devdiscourse.blob.core.windows.net")!=-1?"/remote.axd?"+t.ImageUrl:t.ImageUrl,u='<div class="media-left"><div class="image-card bg-gray lazy" data-src="'+f+'?width=90&height=90&mode=crop"><\/div><\/div>');r+='<a href="/article/'+o+"/"+e+'" class="text-decoration"><div class="media news-media-card">'+i+u+'<div class="media-body"><h3 class="media-title">'+t.Title+"<\/h3><\/div><\/div><\/a>"}),u="",u=n.edition=="AFRICA EDITION"?n.edition:'<a href="'+i+'" class="text-decoration">'+n.edition+"<\/a>",t='<div class="clearfix m-t-40"><h2 class="section-title"><span>'+u+"<\/span><\/h2>"+r+"<\/div>",n.edition=="AFRICAN EDITIONS"?$("#AfricaEditionNews").append(t):$("#EditionNews").append(t))},error:function(n){console.log(n.responseText)}})}function s(){$.ajax({url:"/api/Search/GetLatestNews/"+_region+"/",type:"GET",success:function(n){var i="",t;n.length>0&&(t="",$.each(n,function(n,i){var r="";i.Type=="Event"?r='<span class="pull-right infocus-badge">'+i.Type+"<\/span>":i.Type=="Blog"&&(r=i.SubType!=""||i.SubType!=null?'<span class="pull-right infocus-badge">'+i.SubType+"<\/span>":'<span class="pull-right infocus-badge">Blog<\/span>');t+='<a href="/article/'+(i.Label==null?"agency-wire":i.Label+"/"+convertToSlug(i.NewId,i.Title))+'" class="text-decoration"><div class="news-media-card m-t-10">'+r+'<h3 class="media-title">'+i.Title+"<\/h3><\/div><\/a>"}),i='<h2 class="section-title"><span>LATEST STORIES<\/span><\/h2>'+t+'<a href="/news" class="read-more-btn clearfix" style="margin-top:5px">Read More<\/a>',$("#latestNews").html(i))},error:function(n){console.log(n.responseText)}})}function h(){var n="/api/Search/GetAnalysis/"+_region+"/"+newsId;$.getJSON(n,function(n){var t="";$.each(n,function(n,i){var r=convertToSlug(i.NewsId,i.Title),u=i.Label!=null?i.Label:"agency-wire",f=i.Image.indexOf("devdiscourse.blob.core.windows.net")!=-1?"/remote.axd?"+i.Image:i.Image;t+='<a href="/article/'+u+"/"+r+'" class="text-decoration"><div class="news-media-card p-t-10 media"><div class="media-body"><h3 class="media-title no-margin">'+i.Title+'<\/h3><\/div><div class="media-right"><img src="https://www.devdiscourse.com'+f+'?width=60&height=60&mode=crop" width="60" height="60" class="img-rounded pull-right" alt="'+i.Title+'"/><\/div><\/div><\/a>'});$("#opinion").html('<h2 class="section-title"><span><a href="/blogs" class="text-decoration">OPINION / BLOG / INTERVIEW<\/a><\/span><\/h2>'+t)})}function c(n){var t=n,i=$(window),r=i.scrollTop(),f=r+i.height(),u=t.offset().top,e=u+t.height();return e<=f&&u>=r-200}function l(n,t){if(typeof history.pushState!="undefined"){var i={Title:n,Url:t};history.replaceState(i,n,t);$("html head").find("title").text(n)}else alert("Browser does not support HTML5.")}function a(){var s,r,t,u,f,h,o;if(localStorage.removeItem("CacheData"),s=localStorage.getItem("CurrentArticle"),null==localStorage.getItem("CacheSector")){for(r=1;r<=17;r++)n.push(new v(r,0));for(t=0;t<n.length;t++)for(u=0;u<i.length;u++)n[t].sector==i[u],n[t].count=parseInt(n[t].count)+1;n.sort(e);f={Sectors:n};localStorage.setItem("CacheSector",JSON.stringify(f));localStorage.setItem("CurrentArticle",_id)}else h=JSON.parse(localStorage.getItem("CacheSector")),_id!=s&&(localStorage.setItem("CurrentArticle",_id),o=h.Sectors,$.each(o,function(n,t){for(var r=0;r<i.length;r++)t.sector==i[r]&&(t.count=parseInt(t.count)+1)}),o.sort(e),f={Sectors:o},localStorage.setItem("CacheSector",JSON.stringify(f)))}function e(n,t){return t.count-n.count}function v(n,t){this.sector=n;this.count=t}var r="",u="",f="",i,n;$(document).find("#regDropDown").change(function(){var n=new Date;n.setTime(n.getTime()+864e5);document.cookie="Edition="+$(this).val()+"; expires="+n.toGMTString()+"; path=/";window.location.href=$(this).find("option:selected").attr("data-to")});$(window).scroll(function(){skip<8&&!inCallback&&o()});$.ajax("/Home/GetTrends?id="+_id+"&filter=Trends").done(function(n){$("#sideDiv").html('<h2 class="section-title2"><span>TRENDING<\/span><\/h2>'+n);$(".lazy").lazy()});t("Africa","AFRICAN EDITIONS","/");_region!="South Asia"&&t("South Asia","SOUTH ASIA EDITION","/south-asia");_region!="Pacific"&&t("Pacific","PACIFIC EDITION","/pacific");_region!="East and South East Asia"&&t("East and South East Asia","EAST AND SOUTH EAST ASIA EDITION","/south-east-asia");_region!="Europe and Central Asia"&&t("Europe and Central Asia","EUROPE AND CENTRAL ASIA EDITION","/europe-central-asia");_region!="North America"&&t("North America","NORTH AMERICA EDITION","/north-america");_region!="Latin America and Caribbean"&&t("Latin America and Caribbean","LATIN AMERICA AND CARIBBEAN EDITION","latin-america");$.ajax("/Home/GetVideoNews?id="+newsId+"&reg="+_region+"&filter=article").done(function(n){$("#videoNews").html(n);$(".lazy").lazy()});s();h();$(window).scroll(function(){$(".article-divider").each(function(){c($(this))&&(url=$(this).attr("data-articleurl"),title=$(this).attr("data-articletitle"),l(title,url))})});$(document).on("click",".full-read-btn",function(){var t=$(this).attr("data-tag"),n=$(this).attr("data-id");$("#"+n).css({height:"auto"});$(this).parent().remove();fetchReadAlso(n.replace("art-",""),t.split(".").join("").split("/").join(" ").split(",").reverse().splice(3,3).join(","))});i=_sector.split(",");n=[];a()})();