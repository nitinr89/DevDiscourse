L.Photo=L.FeatureGroup.extend({options:{icon:{iconSize:[35,35]}},initialize:function(n,t){L.setOptions(this,t);L.FeatureGroup.prototype.initialize.call(this,n)},addLayers:function(n){if(n)for(var t=0,i=n.length;t<i;t++)this.addLayer(n[t]);return this},addLayer:function(n){L.FeatureGroup.prototype.addLayer.call(this,this.createMarker(n))},createMarker:function(n){var t=L.marker(n,{icon:L.divIcon(L.extend({html:'<div style="background-image: url('+n.thumbnail+');"><\/div>​',className:"leaflet-marker-photo "+n.iconBg},n,this.options.icon)),title:n.caption||""});return t.photo=n,t}});L.photo=function(n,t){return new L.Photo(n,t)};L.MarkerClusterGroup&&(L.Photo.Cluster=L.MarkerClusterGroup.extend({options:{featureGroup:L.photo,maxClusterRadius:100,showCoverageOnHover:!1,iconCreateFunction:function(n){return new L.DivIcon(L.extend({className:"leaflet-marker-photo "+n.getAllChildMarkers()[0].photo.iconBg,html:'<div style="background-image: url('+n.getAllChildMarkers()[0].photo.tranparentBg+');"><\/div>​<b>'+n.getChildCount()+"<\/b>"},this.icon))},icon:{iconSize:[35,35]}},initialize:function(n){n=L.Util.setOptions(this,n);L.MarkerClusterGroup.prototype.initialize.call(this);this._photos=n.featureGroup(null,n)},add:function(n){return this.addLayer(this._photos.addLayers(n)),this},clear:function(){this._photos.clearLayers();this.clearLayers()}}),L.photo.cluster=function(n){return new L.Photo.Cluster(n)});